<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>parkour.fs documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Parkour 0.6.3 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="parkour.conf.html"><span>parkour.conf</span></a></li><li><a href="parkour.cser.html"><span>parkour.cser</span></a></li><li><a href="parkour.cser.printers.html"><span>parkour.cser.printers</span></a></li><li><a href="parkour.cser.readers.html"><span>parkour.cser.readers</span></a></li><li><a href="parkour.cstep.html"><span>parkour.cstep</span></a></li><li class="current"><a href="parkour.fs.html"><span>parkour.fs</span></a></li><li><a href="parkour.graph.html"><span>parkour.graph</span></a></li><li><a href="parkour.io.avro.html"><span>parkour.io.avro</span></a></li><li><a href="parkour.io.cascading.html"><span>parkour.io.cascading</span></a></li><li><a href="parkour.io.dseq.html"><span>parkour.io.dseq</span></a></li><li><a href="parkour.io.dsink.html"><span>parkour.io.dsink</span></a></li><li><a href="parkour.io.dux.html"><span>parkour.io.dux</span></a></li><li><a href="parkour.io.dval.html"><span>parkour.io.dval</span></a></li><li><a href="parkour.io.mem.html"><span>parkour.io.mem</span></a></li><li><a href="parkour.io.mux.html"><span>parkour.io.mux</span></a></li><li><a href="parkour.io.nline.html"><span>parkour.io.nline</span></a></li><li><a href="parkour.io.range.html"><span>parkour.io.range</span></a></li><li><a href="parkour.io.sample.html"><span>parkour.io.sample</span></a></li><li><a href="parkour.io.seqf.html"><span>parkour.io.seqf</span></a></li><li><a href="parkour.io.text.html"><span>parkour.io.text</span></a></li><li><a href="parkour.io.transient.html"><span>parkour.io.transient</span></a></li><li><a href="parkour.mapreduce.html"><span>parkour.mapreduce</span></a></li><li><a href="parkour.reducers.html"><span>parkour.reducers</span></a></li><li><a href="parkour.remote.input.html"><span>parkour.remote.input</span></a></li><li><a href="parkour.remote.sample.html"><span>parkour.remote.sample</span></a></li><li><a href="parkour.repl.html"><span>parkour.repl</span></a></li><li><a href="parkour.test-helpers.html"><span>parkour.test-helpers</span></a></li><li><a href="parkour.tool.html"><span>parkour.tool</span></a></li><li><a href="parkour.toolbox.html"><span>parkour.toolbox</span></a></li><li><a href="parkour.util.map-combine.html"><span>parkour.util.map-combine</span></a></li><li><a href="parkour.wrapper.html"><span>parkour.wrapper</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="parkour.fs.html#var-*temp-dir*"><span>*temp-dir*</span></a></li><li><a href="parkour.fs.html#var-Coercions"><span>Coercions</span></a></li><li><a href="parkour.fs.html#var-distcache%21"><span>distcache!</span></a></li><li><a href="parkour.fs.html#var-distcache-files"><span>distcache-files</span></a></li><li><a href="parkour.fs.html#var-distcacher"><span>distcacher</span></a></li><li><a href="parkour.fs.html#var-hidden%3F"><span>hidden?</span></a></li><li><a href="parkour.fs.html#var-input-stream"><span>input-stream</span></a></li><li><a href="parkour.fs.html#var-path"><span>path</span></a></li><li><a href="parkour.fs.html#var-path-array"><span>path-array</span></a></li><li><a href="parkour.fs.html#var-path-create"><span>path-create</span></a></li><li><a href="parkour.fs.html#var-path-delete"><span>path-delete</span></a></li><li><a href="parkour.fs.html#var-path-exists%3F"><span>path-exists?</span></a></li><li><a href="parkour.fs.html#var-path-fs"><span>path-fs</span></a></li><li><a href="parkour.fs.html#var-path-glob"><span>path-glob</span></a></li><li><a href="parkour.fs.html#var-path-list"><span>path-list</span></a></li><li><a href="parkour.fs.html#var-path-map"><span>path-map</span></a></li><li><a href="parkour.fs.html#var-path-open"><span>path-open</span></a></li><li><a href="parkour.fs.html#var-path-qualified"><span>path-qualified</span></a></li><li><a href="parkour.fs.html#var-path%3F"><span>path?</span></a></li><li><a href="parkour.fs.html#var-temp-root"><span>temp-root</span></a></li><li><a href="parkour.fs.html#var-uri"><span>uri</span></a></li><li><a href="parkour.fs.html#var-uri%3F"><span>uri?</span></a></li><li><a href="parkour.fs.html#var-with-copies"><span>with-copies</span></a></li><li><a href="parkour.fs.html#var-with-copies*"><span>with-copies*</span></a></li><li><a href="parkour.fs.html#var-with-temp-dir"><span>with-temp-dir</span></a></li><li><a href="parkour.fs.html#var-with-temp-dir*"><span>with-temp-dir*</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>parkour.fs documentation</h2><pre class="doc"></pre><div class="public" id="var-*temp-dir*"><h3>*temp-dir*</h3><div class="usage"></div><pre class="doc">Default path to system temporary directory on the default
filesystem.  May be overridden in configuration via the property
`parkour.temp.dir`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L220">Source</a></div></div><div class="public" id="var-Coercions"><h3>Coercions</h3><div class="usage"></div><pre class="doc">Protocol for coercing objects to Hadoop `Path`s and `java.net.URI`s.  Logical
extension of `clojure.java.io/Coercions`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L13">Source</a></div></div><div class="public" id="var-distcache%21"><h3>distcache!</h3><div class="usage"><code>(distcache! conf uri-map)</code></div><pre class="doc">Update Hadoop `conf` to merge the `uri-map` of local file paths to
URIs into the distributed cache configuration.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L282">Source</a></div></div><div class="public" id="var-distcache-files"><h3>distcache-files</h3><div class="usage"><code>(distcache-files conf)</code></div><pre class="doc">Retrieve map of existing distcache entries from `conf`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L275">Source</a></div></div><div class="public" id="var-distcacher"><h3>distcacher</h3><div class="usage"><code>(distcacher uri-map)</code></div><pre class="doc">Return a function for merging the `uri-map` of local paths to URIs
into the distributed cache files of a Hadoop configuration.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L299">Source</a></div></div><div class="public" id="var-hidden%3F"><h3>hidden?</h3><div class="usage"><code>(hidden? p)</code></div><pre class="doc">True iff `p` is an HDFS-hidden ('_'-prefixed) file.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L132">Source</a></div></div><div class="public" id="var-input-stream"><h3>input-stream</h3><div class="usage"><code>(input-stream p)</code><code>(input-stream conf p)</code></div><pre class="doc">Open an input stream on `p`, via a Hadoop filesystem when in a
supported scheme and via `io/input-stream` when not.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L152">Source</a></div></div><div class="public" id="var-path"><h3>path</h3><div class="usage"><code>(path x)</code><code>(path x y)</code><code>(path x y &amp; more)</code></div><pre class="doc">Coerce argument(s) to a Path, resolving successive arguments against base.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L30">Source</a></div></div><div class="public" id="var-path-array"><h3>path-array</h3><div class="usage"><code>(path-array ps)</code></div><pre class="doc">Array of `Path`s for each entry in seq `ps`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L37">Source</a></div></div><div class="public" id="var-path-create"><h3>path-create</h3><div class="usage"><code>(path-create p)</code><code>(path-create fs p)</code></div><pre class="doc">Create an output stream on `p` for `fs`, or default `fs` if not provided.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L163">Source</a></div></div><div class="public" id="var-path-delete"><h3>path-delete</h3><div class="usage"><code>(path-delete p)</code><code>(path-delete fs p)</code></div><pre class="doc">Recursively delete files at path `p`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L123">Source</a></div></div><div class="public" id="var-path-exists%3F"><h3>path-exists?</h3><div class="usage"><code>(path-exists? p)</code><code>(path-exists? fs p)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L128">Source</a></div></div><div class="public" id="var-path-fs"><h3>path-fs</h3><div class="usage"><code>(path-fs p)</code><code>(path-fs conf p)</code></div><pre class="doc">Hadoop filesystem for the path `p`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L61">Source</a></div></div><div class="public" id="var-path-glob"><h3>path-glob</h3><div class="usage"><code>(path-glob p)</code><code>(path-glob fs p)</code></div><pre class="doc">Expand path glob `p` to set of matching paths.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L109">Source</a></div></div><div class="public" id="var-path-list"><h3>path-list</h3><div class="usage"><code>(path-list p)</code><code>(path-list fs p)</code></div><pre class="doc">List the entries in the directory at path `p`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L116">Source</a></div></div><div class="public" id="var-path-map"><h3>path-map</h3><div class="usage"><code>(path-map dir)</code><code>(path-map fs dir)</code></div><pre class="doc">Return map of file basename to full path for all files in `dir`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L136">Source</a></div></div><div class="public" id="var-path-open"><h3>path-open</h3><div class="usage"><code>(path-open p)</code><code>(path-open fs p)</code></div><pre class="doc">Open an input stream on `p`, or default `fs` if not provided.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L147">Source</a></div></div><div class="public" id="var-path-qualified"><h3>path-qualified</h3><div class="usage"><code>(path-qualified p)</code><code>(path-qualified fs p)</code></div><pre class="doc">Expand path `p` to a filesystem-qualified path.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L103">Source</a></div></div><div class="public" id="var-path%3F"><h3>path?</h3><div class="usage"><code>(path? x)</code></div><pre class="doc">True iff `x` is a Path.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L26">Source</a></div></div><div class="public" id="var-temp-root"><h3>temp-root</h3><div class="usage"><code>(temp-root conf)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L226">Source</a></div></div><div class="public" id="var-uri"><h3>uri</h3><div class="usage"><code>(uri x)</code><code>(uri x y)</code><code>(uri x y &amp; more)</code></div><pre class="doc">Coerce argument(s) to a URI, resolving successive arguments against base.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L49">Source</a></div></div><div class="public" id="var-uri%3F"><h3>uri?</h3><div class="usage"><code>(uri? x)</code></div><pre class="doc">True iff `x` is a URI.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L45">Source</a></div></div><div class="public" id="var-with-copies"><h3>with-copies</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-copies [name uri-map conf] &amp; body)</code></div><pre class="doc">Copy the URI values of `uri-map` to a temporary directory on the
default Hadoop filesystem, optionally specified by `conf`.  Evaluate
`body` forms with `name` bound to the map of original `uri-map` keys
to new temporary paths.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L319">Source</a></div></div><div class="public" id="var-with-copies*"><h3>with-copies*</h3><div class="usage"><code>(with-copies* conf uri-map f)</code></div><pre class="doc">Function form of `with-copies`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L304">Source</a></div></div><div class="public" id="var-with-temp-dir"><h3>with-temp-dir</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-temp-dir [temp-dir conf] &amp; body)</code></div><pre class="doc">Run the forms in `body` with `temp-dir` bound to a Hadoop filesystem
temporary directory path, created via the optional `conf`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L259">Source</a></div></div><div class="public" id="var-with-temp-dir*"><h3>with-temp-dir*</h3><div class="usage"><code>(with-temp-dir* f)</code><code>(with-temp-dir* conf f)</code></div><pre class="doc">Function version of `with-temp-dir`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/fs.clj#L244">Source</a></div></div></div></body></html>