<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>parkour.graph documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Parkour 0.6.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="parkour.conf.html"><span>parkour.conf</span></a></li><li><a href="parkour.cser.html"><span>parkour.cser</span></a></li><li><a href="parkour.cser.printers.html"><span>parkour.cser.printers</span></a></li><li><a href="parkour.cser.readers.html"><span>parkour.cser.readers</span></a></li><li><a href="parkour.cstep.html"><span>parkour.cstep</span></a></li><li><a href="parkour.fs.html"><span>parkour.fs</span></a></li><li class="current"><a href="parkour.graph.html"><span>parkour.graph</span></a></li><li><a href="parkour.io.avro.html"><span>parkour.io.avro</span></a></li><li><a href="parkour.io.cascading.html"><span>parkour.io.cascading</span></a></li><li><a href="parkour.io.dseq.html"><span>parkour.io.dseq</span></a></li><li><a href="parkour.io.dsink.html"><span>parkour.io.dsink</span></a></li><li><a href="parkour.io.dux.html"><span>parkour.io.dux</span></a></li><li><a href="parkour.io.dval.html"><span>parkour.io.dval</span></a></li><li><a href="parkour.io.mem.html"><span>parkour.io.mem</span></a></li><li><a href="parkour.io.mux.html"><span>parkour.io.mux</span></a></li><li><a href="parkour.io.nline.html"><span>parkour.io.nline</span></a></li><li><a href="parkour.io.range.html"><span>parkour.io.range</span></a></li><li><a href="parkour.io.sample.html"><span>parkour.io.sample</span></a></li><li><a href="parkour.io.seqf.html"><span>parkour.io.seqf</span></a></li><li><a href="parkour.io.text.html"><span>parkour.io.text</span></a></li><li><a href="parkour.io.transient.html"><span>parkour.io.transient</span></a></li><li><a href="parkour.mapreduce.html"><span>parkour.mapreduce</span></a></li><li><a href="parkour.reducers.html"><span>parkour.reducers</span></a></li><li><a href="parkour.remote.input.html"><span>parkour.remote.input</span></a></li><li><a href="parkour.remote.sample.html"><span>parkour.remote.sample</span></a></li><li><a href="parkour.repl.html"><span>parkour.repl</span></a></li><li><a href="parkour.test-helpers.html"><span>parkour.test-helpers</span></a></li><li><a href="parkour.tool.html"><span>parkour.tool</span></a></li><li><a href="parkour.toolbox.html"><span>parkour.toolbox</span></a></li><li><a href="parkour.util.map-combine.html"><span>parkour.util.map-combine</span></a></li><li><a href="parkour.wrapper.html"><span>parkour.wrapper</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="parkour.graph.html#var-combine"><span>combine</span></a></li><li><a href="parkour.graph.html#var-config"><span>config</span></a></li><li><a href="parkour.graph.html#var-execute"><span>execute</span></a></li><li><a href="parkour.graph.html#var-fexecute"><span>fexecute</span></a></li><li><a href="parkour.graph.html#var-input"><span>input</span></a></li><li><a href="parkour.graph.html#var-map"><span>map</span></a></li><li><a href="parkour.graph.html#var-node-fn"><span>node-fn</span></a></li><li><a href="parkour.graph.html#var-node-job"><span>node-job</span></a></li><li><a href="parkour.graph.html#var-output"><span>output</span></a></li><li><a href="parkour.graph.html#var-partition"><span>partition</span></a></li><li><a href="parkour.graph.html#var-reduce"><span>reduce</span></a></li><li><a href="parkour.graph.html#var-run-graph"><span>run-graph</span></a></li><li><a href="parkour.graph.html#var-run-job"><span>run-job</span></a></li><li><a href="parkour.graph.html#var-shuffle"><span>shuffle</span></a></li><li><a href="parkour.graph.html#var-sink"><span>sink</span></a></li><li><a href="parkour.graph.html#var-source"><span>source</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>parkour.graph documentation</h2><pre class="doc"></pre><div class="public" id="var-combine"><h3>combine</h3><div class="usage"><code>(combine node cls)</code><code>(combine node var &amp; args)</code></div><pre class="doc">Add combine task to job node `node`, as implemented by `Reducer` class `cls`,
or Clojure var `var` and optional `args`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L238">Source</a></div></div><div class="public" id="var-config"><h3>config</h3><div class="usage"><code>(config node &amp; steps)</code></div><pre class="doc">Add arbitrary configuration steps to `node`, which may be either a single job
node or a vector of job nodes.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L116">Source</a></div></div><div class="public" id="var-execute"><h3>execute</h3><div class="usage"><code>(execute graph conf jname)</code></div><pre class="doc">Execute Hadoop jobs for the job graph `graph`, which should be a job graph
leaf node or vector of leaf nodes.  Jobs are configured starting with base
configuration `conf` and named based on the string `jname`.  Returns a vector of
the distributed sequences produced by the job graph leaves.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L448">Source</a></div></div><div class="public" id="var-fexecute"><h3>fexecute</h3><div class="usage"><code>(fexecute graph conf jname)</code></div><pre class="doc">As per `execute`, but require and return only a single result desq;
almost `(comp first execute)`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L465">Source</a></div></div><div class="public" id="var-input"><h3>input</h3><div class="usage"><code>(input node)</code></div><pre class="doc">Return a fresh `:input`-stage job graph node consuming from the provided dseq
`node`.  If instead provided an `:input`-stage node or vector of such nodes,
acts as the identity function.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L96">Source</a></div></div><div class="public" id="var-map"><h3>map</h3><div class="usage"><code>(map node cls)</code><code>(map node var &amp; args)</code></div><pre class="doc">Add map task to job node `node`, as implemented by `Mapper` class `cls`, or
Clojure var `var` and optional `args`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L157">Source</a></div></div><div class="public" id="var-node-fn"><h3>node-fn</h3><div class="usage"><code>(node-fn node conf jname)</code></div><pre class="doc">Return a function for executing the job defined by the job node `node`, using
base configuration `conf` and job name `jname`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L377">Source</a></div></div><div class="public" id="var-node-job"><h3>node-job</h3><div class="usage"><code>(node-job node conf jname)</code></div><pre class="doc">Hadoop `Job` for job node `node`, starting with base configuration `conf`
and named `jname`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L294">Source</a></div></div><div class="public" id="var-output"><h3>output</h3><div class="usage"><code>(output node dsink)</code><code>(output node &amp; named-dsinks)</code></div><pre class="doc">Add output task to job node `node` for writing to `dsink` or named-output
name-dsink pairs `named-dsinks`.  Yields either a new `:input`-stage node
reading from the written output or a vector of such nodes.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L275">Source</a></div></div><div class="public" id="var-partition"><h3>partition</h3><div class="usage"><code>(partition node step)</code><code>(partition node step cls)</code><code>(partition node step var &amp; args)</code></div><pre class="doc">Add partition task to the provided job node `node`, as configured by `step`
and optionally implemented by either Partitioner class `cls` or Clojure var
`var` &amp; optional `args`.  The `node` may be either a single job node or a vector
of job nodes to co-group.  The `step` may be either a configuration step or a
vector of the two map-output key &amp; value classes.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L205">Source</a></div></div><div class="public" id="var-reduce"><h3>reduce</h3><div class="usage"><code>(reduce node cls)</code><code>(reduce node var &amp; args)</code></div><pre class="doc">Add reduce task to job node `node`, as implemented by `Reducer` class `cls`,
or Clojure var `var` and optional `args`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L249">Source</a></div></div><div class="public" id="var-run-graph"><h3>run-graph</h3><div class="usage"><code>(run-graph runner graph outputs)</code></div><pre class="doc">Execute the data-flow graph described by `graph` using the function executor
`runner`.  Each key in `graph` identifies a particular entry.  Each value is a
tuple of `(inputs, f)`, where `inputs` is a sequence of other `graph` keys and
`f` is a function calculating that entry's result given `inputs`.  Returns a
vector of the result entries for the keys in the collection `outputs`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L55">Source</a></div></div><div class="public" id="var-run-job"><h3>run-job</h3><div class="usage"><code>(run-job job)</code></div><pre class="doc">Run `job` and wait synchronously for it to complete.  Kills the job on
exceptions or JVM shutdown.  Unlike the `Job#waitForCompletion()` method, does
not swallow `InterruptedException`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L352">Source</a></div></div><div class="public" id="var-shuffle"><h3>shuffle</h3><div class="usage"><code>(shuffle [ckey] [[ckey cval]])</code></div><pre class="doc">Base shuffle configuration; sets map output key &amp; value types to
the classes `ckey` and `cval` respectively.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L187">Source</a></div></div><div class="public" id="var-sink"><h3>sink</h3><div class="usage"><code>(sink node dsink)</code><code>(sink node &amp; named-dsinks)</code></div><pre class="doc">Deprecated alias for `output`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L288">Source</a></div></div><div class="public" id="var-source"><h3>source</h3><div class="usage"><code>(source dseq)</code></div><pre class="doc">Deprecated alias for `input`.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/graph.clj#L110">Source</a></div></div></div></body></html>