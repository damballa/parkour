<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>parkour.io.avro documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Parkour 0.6.3 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="parkour.conf.html"><span>parkour.conf</span></a></li><li><a href="parkour.cser.html"><span>parkour.cser</span></a></li><li><a href="parkour.cser.printers.html"><span>parkour.cser.printers</span></a></li><li><a href="parkour.cser.readers.html"><span>parkour.cser.readers</span></a></li><li><a href="parkour.cstep.html"><span>parkour.cstep</span></a></li><li><a href="parkour.fs.html"><span>parkour.fs</span></a></li><li><a href="parkour.graph.html"><span>parkour.graph</span></a></li><li class="current"><a href="parkour.io.avro.html"><span>parkour.io.avro</span></a></li><li><a href="parkour.io.cascading.html"><span>parkour.io.cascading</span></a></li><li><a href="parkour.io.dseq.html"><span>parkour.io.dseq</span></a></li><li><a href="parkour.io.dsink.html"><span>parkour.io.dsink</span></a></li><li><a href="parkour.io.dux.html"><span>parkour.io.dux</span></a></li><li><a href="parkour.io.dval.html"><span>parkour.io.dval</span></a></li><li><a href="parkour.io.mem.html"><span>parkour.io.mem</span></a></li><li><a href="parkour.io.mux.html"><span>parkour.io.mux</span></a></li><li><a href="parkour.io.nline.html"><span>parkour.io.nline</span></a></li><li><a href="parkour.io.range.html"><span>parkour.io.range</span></a></li><li><a href="parkour.io.sample.html"><span>parkour.io.sample</span></a></li><li><a href="parkour.io.seqf.html"><span>parkour.io.seqf</span></a></li><li><a href="parkour.io.text.html"><span>parkour.io.text</span></a></li><li><a href="parkour.io.transient.html"><span>parkour.io.transient</span></a></li><li><a href="parkour.mapreduce.html"><span>parkour.mapreduce</span></a></li><li><a href="parkour.reducers.html"><span>parkour.reducers</span></a></li><li><a href="parkour.remote.input.html"><span>parkour.remote.input</span></a></li><li><a href="parkour.remote.sample.html"><span>parkour.remote.sample</span></a></li><li><a href="parkour.repl.html"><span>parkour.repl</span></a></li><li><a href="parkour.test-helpers.html"><span>parkour.test-helpers</span></a></li><li><a href="parkour.tool.html"><span>parkour.tool</span></a></li><li><a href="parkour.toolbox.html"><span>parkour.toolbox</span></a></li><li><a href="parkour.util.map-combine.html"><span>parkour.util.map-combine</span></a></li><li><a href="parkour.wrapper.html"><span>parkour.wrapper</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="parkour.io.avro.html#var-dseq"><span>dseq</span></a></li><li><a href="parkour.io.avro.html#var-dsink"><span>dsink</span></a></li><li><a href="parkour.io.avro.html#var-dval"><span>dval</span></a></li><li><a href="parkour.io.avro.html#var-set-grouping"><span>set-grouping</span></a></li><li><a href="parkour.io.avro.html#var-set-input"><span>set-input</span></a></li><li><a href="parkour.io.avro.html#var-set-map-output"><span>set-map-output</span></a></li><li><a href="parkour.io.avro.html#var-set-output"><span>set-output</span></a></li><li><a href="parkour.io.avro.html#var-shuffle"><span>shuffle</span></a></li><li><a href="parkour.io.avro.html#var-task"><span>task</span></a></li><li><a href="parkour.io.avro.html#var-wrap-sink"><span>wrap-sink</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>parkour.io.avro documentation</h2><pre class="doc"></pre><div class="public" id="var-dseq"><h3>dseq</h3><div class="usage"><code>(dseq schemas &amp; paths)</code></div><pre class="doc">Distributed sequence of Avro input, applying the vector of `schemas` as per
the arguments to `set-input`, and reading from `paths`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L137">Source</a></div></div><div class="public" id="var-dsink"><h3>dsink</h3><div class="usage"><code>(dsink schemas)</code><code>(dsink schemas path)</code></div><pre class="doc">Distributed sink for writing Avro data files at `path`, or a transient path
if not provided.  Configures output schemas as per application of `set-output`
to `schemas`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L160">Source</a></div></div><div class="public" id="var-dval"><h3>dval</h3><div class="usage"><code>(dval value)</code><code>(dval schema value)</code></div><pre class="doc">Avro distributed value, serialized using `schema` if provided or a plain
EDN-in-Avro schema if not.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L173">Source</a></div></div><div class="public" id="var-set-grouping"><h3>set-grouping</h3><div class="usage"><code>(set-grouping job gs)</code></div><pre class="doc">Configure `job` combine &amp; reduce phases to group keys via schema `gs`,
which should be encoding-compatible with the map-output key schema.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L95">Source</a></div></div><div class="public" id="var-set-input"><h3>set-input</h3><div class="usage"><code>(set-input job ks)</code><code>(set-input job ks vs)</code></div><pre class="doc">Configure `job` for Avro input with keys or keyvals using expected
schemas `ks` and `vs`.  Schemas may be `:default` to just directly use
input writer schema(s).</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L59">Source</a></div></div><div class="public" id="var-set-map-output"><h3>set-map-output</h3><div class="usage"><code>(set-map-output job ks)</code><code>(set-map-output job ks vs)</code></div><pre class="doc">Configure `job` map output to produce Avro with key schema `ks` and
optional value schema `vs`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L79">Source</a></div></div><div class="public" id="var-set-output"><h3>set-output</h3><div class="usage"><code>(set-output job ks)</code><code>(set-output job ks vs)</code><code>(set-output job ks vs gs)</code></div><pre class="doc">Configure `job` output to produce Avro with key schema `ks` and
optional value schema `vs`.  Configures job output format to match
when the output format has not been otherwise explicitly specified.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L117">Source</a></div></div><div class="public" id="var-shuffle"><h3>shuffle</h3><div class="usage"><code>(shuffle [ks])</code><code>(shuffle [ks vs])</code><code>(shuffle [ks vs gs])</code></div><pre class="doc">Configuration step for Avro shuffle, with key schema `ks`, optional value
schema `vs`, and optional grouping schema `gs`.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L154">Source</a></div></div><div class="public" id="var-task"><h3>task</h3><div class="usage"><code>(task f)</code></div><pre class="doc">Returns a function which calls `f` with an `unwrap`ed tuple source
and expects `f` to return a `reduce`able object.  Avro-wraps and sinks
all tuples from the resulting `reduce`able.</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L46">Source</a></div></div><div class="public" id="var-wrap-sink"><h3>wrap-sink</h3><div class="usage"><code>(wrap-sink context)</code></div><pre class="doc">Wrap task context for sinking Avro output.
</pre><div class="src-link"><a href="https://github.com/damballa/parkour/blob/master/src/clojure/parkour/io/avro.clj#L42">Source</a></div></div></div></body></html>